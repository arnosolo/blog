import{_ as a}from"./chunks/bbe6be609613539ac0774ffe92471f327d14281fef284b932d5fac9621c968ce.Bi3_XD3F.js";import{_ as o,c as n,o as r,j as e,ae as u,a as d,t as i}from"./chunks/framework.CLNW5JS9.js";const x=JSON.parse('{"title":"Testing Subscription Features in iOS Apps","description":"This article describes how to test subscription features in iOS apps, including creating sandbox users, testing subscriptions, testing cancellations, and testing subscription recovery.","frontmatter":{"title":"Testing Subscription Features in iOS Apps","lang":"en-US","description":"This article describes how to test subscription features in iOS apps, including creating sandbox users, testing subscriptions, testing cancellations, and testing subscription recovery."},"headers":[],"relativePath":"25-test-subscription-feature-of-an-ios-app.md","filePath":"25-test-subscription-feature-of-an-ios-app.md"}'),c={name:"25-test-subscription-feature-of-an-ios-app.md"},l={id:"frontmatter-title",tabindex:"-1"};function p(s,t,b,h,g,m){return r(),n("div",null,[e("h1",l,[d(i(s.$frontmatter.title)+" ",1),t[0]||(t[0]=e("a",{class:"header-anchor",href:"#frontmatter-title","aria-label":'Permalink to "{{ $frontmatter.title }}"'},"​",-1))]),e("p",null,i(s.$frontmatter.description),1),t[1]||(t[1]=u('<h2 id="creating-a-sandbox-user" tabindex="-1">Creating a Sandbox User <a class="header-anchor" href="#creating-a-sandbox-user" aria-label="Permalink to &quot;Creating a Sandbox User&quot;">​</a></h2><p>One of the challenges of testing subscriptions is that the shortest subscription period is one week. Does this mean that if I subscribe to a product and then unsubscribe, I have to wait a week to verify if the backend handles the unsubscription properly?</p><p>The answer is no. We can create a sandbox user (Sandbox Tester) on the <a href="https://appstoreconnect.apple.com/access/users/sandbox" target="_blank" rel="noreferrer">App Store Connect &gt; Users &gt; Sandbox</a> page. A few minutes for a sandbox user equals one month in the real world. Additionally, if the sandbox user subscribes to a product, it will be automatically renewed up to 6 times. Therefore, after a few hours, the sandbox user will automatically unsubscribe from the product.</p><table tabindex="0"><thead><tr><th>Production Subscription Period</th><th>Sandbox Subscription Renewal</th><th>TestFlight Subscription Renewal</th></tr></thead><tbody><tr><td>3 days</td><td>2 minutes</td><td>1 day</td></tr><tr><td>1 week</td><td>3 minutes</td><td>1 day</td></tr><tr><td>1 month</td><td>5 minutes</td><td>1 day</td></tr><tr><td>2 months</td><td>10 minutes</td><td>1 day</td></tr><tr><td>3 months</td><td>15 minutes</td><td>1 day</td></tr><tr><td>6 months</td><td>30 minutes</td><td>1 day</td></tr><tr><td>1 year</td><td>1 hour</td><td>1 day</td></tr></tbody></table><blockquote><p><a href="https://www.revenuecat.com/docs/test-and-launch/sandbox/apple-app-store#working-with-subscriptions" target="_blank" rel="noreferrer">https://www.revenuecat.com/docs/test-and-launch/sandbox/apple-app-store#working-with-subscriptions</a></p></blockquote><h2 id="logging-in-as-a-sandbox-user" tabindex="-1">Logging in as a Sandbox User <a class="header-anchor" href="#logging-in-as-a-sandbox-user" aria-label="Permalink to &quot;Logging in as a Sandbox User&quot;">​</a></h2><p>Please log in to the sandbox account you just created on your iPhone at Settings &gt; App Store &gt; Sandbox Account. You can manage the current sandbox account’s subscriptions from this page.<br><img src="'+a+'" alt="picture 0"></p><h2 id="testing-subscriptions" tabindex="-1">Testing Subscriptions <a class="header-anchor" href="#testing-subscriptions" aria-label="Permalink to &quot;Testing Subscriptions&quot;">​</a></h2><p>Note: Sandbox users are only used when the app is installed via Xcode. Apps installed through TestFlight do not use a sandbox account; instead, they use the Apple ID currently logged in on the iPhone.</p><ol><li>Write the code to implement the subscription feature.</li><li>Install the app via Xcode.</li><li>Click the subscription button in the app, and the payment interface will pop up. After payment, the subscription status should change to &quot;Subscribed.&quot;</li><li>Force close the app, then reopen it. The subscription status should still be &quot;Subscribed.&quot;</li></ol><h2 id="testing-unsubscribing" tabindex="-1">Testing Unsubscribing <a class="header-anchor" href="#testing-unsubscribing" aria-label="Permalink to &quot;Testing Unsubscribing&quot;">​</a></h2><ol><li>Go to Settings &gt; App Store &gt; Sandbox Account to unsubscribe from the product you just subscribed to.</li><li>After 10 minutes, reopen the app. The subscription status should change to &quot;Not Subscribed.&quot;</li></ol><h2 id="testing-subscription-recovery" tabindex="-1">Testing Subscription Recovery <a class="header-anchor" href="#testing-subscription-recovery" aria-label="Permalink to &quot;Testing Subscription Recovery&quot;">​</a></h2><ol><li>Subscribe to the product again.</li><li>Uninstall the app.</li><li>Reinstall the app, and the subscription status should be &quot;Not Subscribed.&quot;</li><li>Click the &quot;Restore Subscription&quot; button, and the subscription status should change to &quot;Subscribed.&quot;</li></ol>',14))])}const y=o(c,[["render",p]]);export{x as __pageData,y as default};
